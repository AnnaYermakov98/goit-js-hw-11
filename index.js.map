{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const keyId = '32552782-0d4c86680018457e820f20492';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nexport const fetchPhotos = searchedQuery => {\n    const urlParams = new URLSearchParams({\n        key: keyId,\n        q: searchedQuery,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true,\n      });\nconsole.log(urlParams);\n      return fetch(`${BASE_URL}?${urlParams}`).then(response => {\n        if (!response.ok) {\n          throw new Error(response.status);\n        }\n        return response.json();\n    });\n}","const gallery = document.querySelector('.gallery');\n\nexport function renderGallery(images) {\n\n    const markup = images.map(({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => `\n        <li class=\"gallery-item\">\n            <a href=\"${largeImageURL}\">\n                <img class=\"gallery-img\" src=\"${webformatURL}\" alt=\"${tags}\">\n            </a>\n            <div class=\"info\">\n            <ul class=\"info-list\">\n            <li class=\"info-item\">\n            <p class=\"item-title\">Likes</p>\n            <p class=\"item-text\">${likes}</p></li>\n            <li class=\"info-item\"> \n            <p class=\"item-title\">Views</p>\n            <p class=\"item-text\">${views}</p></li>\n            <li class=\"info-item\">\n            <p class=\"item-title\">Comments</p>\n            <p class=\"item-text\">${comments}</p></li>\n            <li class=\"info-item\">\n            <p class=\"item-title\">Downloads</p>\n            <p class=\"item-text\">${downloads}</p></li>\n            </ul>\n            </div>\n        </li>\n    `).join('');\n\n    gallery.insertAdjacentHTML('beforeend', markup);\n}\n","\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport {fetchPhotos} from './js/pixabay-api';\nimport {renderGallery} from './js/render-functions';\n\nconst gallery = document.querySelector('.gallery');\nconst form = document.querySelector('.form');\nform.addEventListener('submit', submitHandler);\n\n\nconst lightBox = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n  overlayOpacity: 0.8,\n});\n\nfunction submitHandler(e) {\n    e.preventDefault();\n    const query = e.target.elements.searchField.value.toLowerCase().trim();\n  \n    if (!query) {\n      iziToast.error({\n        title: 'Error',\n        message:\n          'Sorry, you have to type something in the search field. Please try again!',\n        position: 'topRight',\n      });\n      return;\n    }\n    gallery.innerHTML = '';\n\n    fetchPhotos(query)\n        .then(data => {\n            console.log(data.hits);\n            if (data.hits.length === 0) {\n                iziToast.warning({\n                    title: 'Warning',\n                    message: 'Sorry, there are no images matching your search query. Please try again!',\n                    position: 'topRight',\n                });\n                return;\n            } \n            renderGallery(data.hits);\n            lightBox.refresh(); \n        })\n        .catch(error => {\n            console.error('Error fetching photos:', error);\n            iziToast.error({\n                title: 'Error',\n                message: 'An error occurred while fetching images. Please try again later.',\n                position: 'topRight',\n            });\n        });\n}\n"],"names":["keyId","BASE_URL","fetchPhotos","searchedQuery","urlParams","response","gallery","renderGallery","images","markup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","form","submitHandler","lightBox","SimpleLightbox","e","query","iziToast","data","error"],"mappings":"6vBAAA,MAAMA,EAAQ,qCACRC,EAAW,2BAEJC,EAAcC,GAAiB,CACxC,MAAMC,EAAY,IAAI,gBAAgB,CAClC,IAAKJ,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACpB,CAAO,EACP,eAAQ,IAAIC,CAAS,EACR,MAAM,GAAGH,CAAQ,IAAIG,CAAS,EAAE,EAAE,KAAKC,GAAY,CACxD,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACxB,CAAK,CACL,EClBMC,EAAU,SAAS,cAAc,UAAU,EAE1C,SAASC,EAAcC,EAAQ,CAElC,MAAMC,EAASD,EAAO,IAAI,CAAC,CAAE,aAAAE,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAW,IAAK;AAAA;AAAA,uBAErFL,CAAa;AAAA,gDACYD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mCAMvCC,CAAK;AAAA;AAAA;AAAA,mCAGLC,CAAK;AAAA;AAAA;AAAA,mCAGLC,CAAQ;AAAA;AAAA;AAAA,mCAGRC,CAAS;AAAA;AAAA;AAAA;AAAA,KAIvC,EAAE,KAAK,EAAE,EAEVV,EAAQ,mBAAmB,YAAaG,CAAM,CAClD,CClBA,MAAMH,EAAU,SAAS,cAAc,UAAU,EAC3CW,EAAO,SAAS,cAAc,OAAO,EAC3CA,EAAK,iBAAiB,SAAUC,CAAa,EAG7C,MAAMC,EAAW,IAAIC,EAAe,aAAc,CAChD,aAAc,MACd,aAAc,IACd,eAAgB,EAClB,CAAC,EAED,SAASF,EAAcG,EAAG,CACtBA,EAAE,eAAc,EAChB,MAAMC,EAAQD,EAAE,OAAO,SAAS,YAAY,MAAM,cAAc,OAEhE,GAAI,CAACC,EAAO,CACVC,EAAS,MAAM,CACb,MAAO,QACP,QACE,2EACF,SAAU,UAClB,CAAO,EACD,MACD,CACDjB,EAAQ,UAAY,GAEpBJ,EAAYoB,CAAK,EACZ,KAAKE,GAAQ,CAEV,GADA,QAAQ,IAAIA,EAAK,IAAI,EACjBA,EAAK,KAAK,SAAW,EAAG,CACxBD,EAAS,QAAQ,CACb,MAAO,UACP,QAAS,2EACT,SAAU,UAC9B,CAAiB,EACD,MACH,CACDhB,EAAciB,EAAK,IAAI,EACvBL,EAAS,QAAO,CAC5B,CAAS,EACA,MAAMM,GAAS,CACZ,QAAQ,MAAM,yBAA0BA,CAAK,EAC7CF,EAAS,MAAM,CACX,MAAO,QACP,QAAS,mEACT,SAAU,UAC1B,CAAa,CACb,CAAS,CACT"}